<!DOCTYPE html>
<html>
    <head>
        {{ template "base_css" }}
        <link rel="stylesheet" href="/static/css/album-view.css"/>
        {{ template "js" }}
        <title>Photos</title>
    </head>
    <header>
        {{ template "header" . }}
    </header>
    <body>
        <div class="menu-bar">
            <nav class="nav nav-pills flex-column flex-sm-row">
                <button class="flex-sm-fill text-sm-center nav-link active" aria-current="page" data-bs-toggle="tab" data-bs-target="#photo" type="button">Photos</button>
                <button class="flex-sm-fill text-sm-center nav-link" data-bs-toggle="tab" data-bs-target="#video" type="button">Videos</button>
                <button class="flex-sm-fill text-sm-center nav-link" data-bs-toggle="tab" data-bs-target="#upload" type="button">Upload</button>
                <button class="flex-sm-fill text-sm-center nav-link" data-bs-toggle="tab" data-bs-target="#about" type="button">About</button>
                <button class="flex-sm-fill text-sm-center nav-link" data-bs-toggle="tab" data-bs-target="#settings" type="button">Settings</button>
            </nav>
        </div>
        <div class="tab-content">
            <div class="tab-pane fade show active" id="photo" role="tabpanel" aria-labelledby="photo-tab">
                {{if .photos}}
                    <div>photos</div>
                {{ else }}
                <div class="container">
                    <div class="row no-photos-row">
                        <div class="col-12 title no-photos">Nothing to see here!!</div>
                        <div class="col-12 no-photos">Please upload some photos</div>
                    </div>
                </div>
                {{ end }}
            </div>
            <div class="tab-pane fade" id="video" role="tabpanel" aria-labelledby="video-tab">
                {{if .videos}}
                    <div>videos</div>
                {{ else }}
                <div class="container">
                    <div class="row no-photos-row">
                        <div class="col-12 title no-photos">Nothing to see here!!</div>
                        <div class="col-12 no-photos">Please upload some videos</div>
                    </div>
                </div>
                {{ end }}
            </div>
            <div class="tab-pane fade" id="upload" role="tabpanel" aria-labelledby="upload-tab">upload</div>
            <div class="tab-pane fade" id="about" role="tabpanel" aria-labelledby="about-tab">
                <div class="container container-details">
                    <div class="row row-title">
                        <h4 class="container-title">Details</h4>
                    </div>
                    <div class="row">
                        <div class="col-lg-2 col title">Owner</div>
                        {{ if .is_owner }}
                            <div class="col-lg-4 col">You</div>
                        {{ else }}
                            <div class="col-lg-4 col">{{.owner}}</div>
                        {{ end }}
                    </div>
                    <div class="row">
                        <div class="col-lg-2 col title">Name</div>
                        <div class="col-lg-4 col">{{.name}}</div>
                    </div>
                    <div class="row">
                        <div class="col-lg-2 col title">Created at</div>
                        <div class="col-lg-4 col">{{date .created_at}}</div>
                    </div>
                    <div class="row">
                        <div class="col-lg-2 col title">Description</div>
                        <div class="col-lg-4 col">{{.description}}</div>
                    </div>
                    <div class="row">
                        <div class="col-lg-2 col title">Location</div>
                        <div class="col-lg-4 col">{{.location}}</div>
                    </div>
                </div>
                {{ if .is_owner }}
                    {{ if .user_permissions }}
                        <div class="container container-permissions">
                            <div class="row row-title">
                                <span class="container-title">Users permissions</span>
                            </div>
                            <div class="row">
                                {{ range $k,$v := .user_permissions }}
                                    <div class="row">
                                        <div class="col-lg-2 col title">{{ $k }}</div>
                                        <div class="col-lg-4 col">
                                            {{ range $v }}
                                                <span class="badge bg-success">{{perm_name .}} </span>
                                            {{ end }}
                                        </div>
                                    </div>
                                {{ end }}
                            </div>
                        </div>
                    {{ end }}
                    {{ if .group_permissions }}
                        <div class="container container-permissions">
                            <div class="row row-title">
                                <span class="container-title">Group permissions</span>
                            </div>
                            <div class="row">
                                {{ range $k,$v := .group_permissions }}
                                    <div class="row">
                                        <div class="col-lg-2 col title">{{ $k }}</div>
                                        <div class="col-lg-4 col">
                                            {{ range $v }}
                                                <span class="badge bg-success">{{perm_name .}} </span>
                                            {{ end }}
                                        </div>
                                    </div>
                                {{ end }}
                            </div>
                        </div>
                    {{ end }}
                {{ end }}
            </div>
            <div class="tab-pane fade" id="settings" role="tabpanel" aria-labelledby="settings-tab">
                <div class="container">
                    <div class="row row-button">
                        <div class="col-6">
                            <div class="row">
                                <span class="col-12 title">Edit this album</span>
                                <span class="col-12">You can edit the details of this album</span>
                            </div>
                        </div>
                        <div class="col-2">
                            <button class="btn btn-warning href={{.edit_link}}">Edit album</button>
                        </div>
                    </div>
                    <div class="row row-button">
                        <div class="col-6">
                            <div class="row">
                                <span class="col-12 title"> Delete this album</span>
                                <span class="col-12">Once you delete this album, everything is lost!!</span>
                            </div>
                        </div>
                        <div class="col-3">
                            <button class="btn btn-danger" href="{{.delete_link}}">Delete this album</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
